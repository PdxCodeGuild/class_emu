<!-- JavaScript lab: lab06_v1_clock.html -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Lab 06: Clock</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet">
    <style media="screen" type="text/css">
      html, body {
        background-color: #C0C0C0;
        box-sizing: border-box;
        height: 100%;
        margin: 0;
        min-height: 100%;
        padding: 0;
        width: 100%;
        font-weight:
      }
      body {
        font-family: 'Open Sans', sans-serif;
      }
      #version_info {
        padding: 20px 0;
      }
      #lab_instructions {
        vertical-align: top;
        width: 100%;
      }
      #lab_instructions > * {
        margin: 0 8px 0;
        padding-top: 18.720px;
      }
      .monospace {
        font-family: 'Roboto Mono', monospace;
        color: blue;
      }
      #container {
        background-color: rgba(255,255,255,0.5);
        height: 100%;
        margin: 0;
        padding: 10px auto;
        width: 100%;
      }
      .flex {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
      }
      #div_time {
        background-color: rgba(128,255,128,0.5);
        font-size: 40px;
        font-weight: 300;
        height: 55px;
        margin: 15px auto;
        text-align: center;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <div id="lab_instructions">
      <h1>JS Lab 06: Clock</h1>
      <ul>
        <li>Make a clock that displays the current time and updates every second.</li>
        <li>Check out JavaScript timing events and dates.</li>
        <li>Writing <span class="monospace">new Date()</span> creates a date with the current date and time.</li>
        <li>You can then create a string from that date, and set it in the DOM.</li>
      </ul>
      <div id="version_info">
        <span><b>v1: first iteration of JS clock</b></span>
      </div>
    </div>
    <div id="container">
        <span class="flex"><div id="div_time"></div></span>
        <div id="code">
          <pre>
            &lt;script type="text/javascript"&gt;
            let show_time = document.querySelector('#show_time')
            let div_time = document.querySelector('#div_time')
            let display_time = setInterval(clock, 1000)

            function clock() {
                let curr_time = new Date()
                let hours = curr_time.getHours()
                if (curr_time.getHours() > 12) {
                  hours = curr_time.getHours() - 12
                }
                hours = hours < 10 ? '0'+hours : hours
                let minutes = curr_time.getMinutes()
                minutes = minutes < 10 ? '0'+minutes : minutes
                let seconds = curr_time.getSeconds()
                seconds = seconds < 10 ? '0'+seconds : seconds
                let am_pm = curr_time.getHours() < 12 ? 'am' : 'pm'
                div_time.innerText = 'The current time is ' + hours + ':' + minutes + ':' + seconds + ' ' + am_pm
            }
            &lt;/script&gt;
          </pre>
        </div> <!-- code div end -->
    </div> <!-- container div end -->
    <script type="text/javascript">

      // Get elements out of DOM
      let show_time = document.querySelector('#show_time')
      let div_time = document.querySelector('#div_time')
      let display_time = setInterval(clock, 1000)             // initialize setInterval, exec clock() 1x/sec

      function clock() {
          let curr_time = new Date()                          // get current Date-Time
          let hours = curr_time.getHours()                    // get current hour
          if (curr_time.getHours() > 12) {                    // if hours are 13-23 (1p to 11p)
            hours = curr_time.getHours() - 12                 // subtract 12 from hours to get AM/PM hours
          }                                                   //
          hours = hours < 10 ? '0'+hours : hours              // padding for 1-digit numbers
          let minutes = curr_time.getMinutes()                // get current minutes
          minutes = minutes < 10 ? '0'+minutes : minutes      // padding for 1-digit numbers
          let seconds = curr_time.getSeconds()                // get current seconds
          seconds = seconds < 10 ? '0'+seconds : seconds      // padding for 1-digit numbers
          // https://stackoverflow.com/questions/18889548/javascript-change-gethours-to-2-digit?lq=1
          // seconds = ("0" + seconds).slice(-2)              // padding for 1-digit numbers ()
          let am_pm = curr_time.getHours() < 12 ? 'am' : 'pm' // add am or pm based on hours (0-23)
          div_time.innerText = 'The current time is ' + hours + ':' + minutes + ':' + seconds + ' ' + am_pm
      }                                                       // display time as div innerText
    </script>
  </body>
</html>
